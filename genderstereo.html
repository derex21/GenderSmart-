<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gender Stereotypes Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e1a3c8 0%, #660477 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .game-screen {
            display: none;
        }
        
        #start-screen, #game-over-screen, #thank-you-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        #start-screen h2, #game-over-screen h2, #thank-you-screen h2 {
            margin-bottom: 20px;
            font-size: 2rem;
        }
        
        #start-screen p, #game-over-screen p, #thank-you-screen p {
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .info-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-btn {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            padding: 20px;
            border-radius: 15px;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .info-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .info-btn .icon {
            font-size: 2.5rem;
        }
        
        .btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin: 10px;
        }
        
        .btn:hover {
            background: #ff5252;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 15px;
        }
        
        .score-container, .timer-container, .intensity-container {
            text-align: center;
        }
        
        .score, .timer {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .intensity-level {
            font-size: 1.2rem;
            margin-top: 5px;
        }
        
        .statement-container {
            background: rgba(255, 255, 255, 0.2);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.4rem;
            line-height: 1.6;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .options-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid transparent;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-5px);
        }
        
        .option.selected {
            border-color: #ffeb3b;
            background: rgba(255, 235, 59, 0.2);
        }
        
        .option.correct {
            border-color: #4caf50;
            background: rgba(76, 175, 80, 0.2);
        }
        
        .option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.2);
        }
        
        .feedback {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 20px;
            min-height: 30px;
            transition: all 0.3s ease;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #ffeb3b;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .intensity-indicator {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        
        .intensity-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            margin: 0 5px;
        }
        
        .intensity-dot.active {
            background: #ffeb3b;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 15px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .streak-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .streak {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffeb3b;
        }
        
        .result-message {
            font-size: 1.5rem;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .header-image {
            width: 100%;
            max-width: 700px;
            height: 310px;
            object-fit: cover;
            display: block;
            margin: 0 auto 20px auto;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .welcome-intro {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .welcome-intro h2 {
            color: #ffeb3b;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .welcome-intro p {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .highlight-box {
            background: rgba(255, 235, 59, 0.2);
            border-left: 4px solid #ffeb3b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        
        /* Thank You Screen Styles */
        .thank-you-content {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        
        .thank-you-icon {
            font-size: 8rem;
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }
        
        .thank-you-title {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ffeb3b;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .thank-you-message {
            font-size: 1.4rem;
            line-height: 1.6;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .thank-you-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .thank-you-stat {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            min-width: 150px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .thank-you-stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffeb3b;
            margin-bottom: 10px;
        }
        
        .thank-you-stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .impact-message {
            background: rgba(255, 235, 59, 0.2);
            border-left: 4px solid #ffeb3b;
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 30px 0;
            text-align: left;
        }
        
        .impact-message h3 {
            color: #ffeb3b;
            margin-bottom: 10px;
            font-size: 1.4rem;
        }
        
        .next-steps {
            margin: 40px 0;
        }
        
        .next-steps h3 {
            color: #ffeb3b;
            margin-bottom: 20px;
            font-size: 1.6rem;
        }
        
        .next-steps-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .next-step {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .next-step:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .next-step-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .next-step-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #ffeb3b;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #e1a3c8 0%, #660477 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .modal-title {
            font-size: 2rem;
            color: #ffeb3b;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .close-modal:hover {
            transform: scale(1.2);
        }
        
        .modal-body {
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .modal-body h3 {
            margin: 20px 0 10px;
            color: #ffeb3b;
        }
        
        .modal-body ul {
            padding-left: 20px;
            margin-bottom: 15px;
        }
        
        .modal-body li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 10px;
        }
        
        .modal-body li:before {
            content: "‚Ä¢";
            color: #ffeb3b;
            font-weight: bold;
            position: absolute;
            left: -10px;
        }
        
        /* Tutorial Styles */
        .tutorial-step {
            display: none;
            text-align: center;
        }
        
        .tutorial-step.active {
            display: block;
        }
        
        .tutorial-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .tutorial-content {
            margin-bottom: 30px;
        }
        
        .tutorial-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .tutorial-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .tutorial-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
        }
        
        .tutorial-dot.active {
            background: #ffeb3b;
        }
        
        .tutorial-example {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        /* Result Modal Styles */
        .result-modal-content {
            text-align: center;
            max-width: 800px;
            width: 95%;
            overflow: visible;
        }
        
        .result-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }
        
        .result-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #ffeb3b;
        }
        
        .result-description {
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .star-rating {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }
        
        .star {
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .star:hover {
            transform: scale(1.2);
        }
        
        .star.active {
            color: #ffeb3b;
        }
        
        .feedback-types {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
            overflow: visible;
        }
        
        .feedback-type {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .feedback-type:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .feedback-type.selected {
            background: rgba(255, 235, 59, 0.3);
            border: 2px solid #ffeb3b;
        }
        
        .feedback-submit {
            margin-top: 20px;
            padding: 15px 40px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .feedback-submit:hover {
            background: #ff5252;
            transform: translateY(-3px);
        }
        
        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #ffeb3b;
            opacity: 0;
            animation: confetti 3s ease-in-out forwards;
        }
        
        @media (max-width: 768px) {
            .info-buttons {
                grid-template-columns: 1fr;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .game-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .statement-container {
                font-size: 1.2rem;
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .welcome-intro {
                padding: 20px;
            }
            
            .header-image {
                height: 180px;
                max-width: 90%;
            }
            
            .modal-content {
                padding: 20px;
            }
            
            .modal-title {
                font-size: 1.5rem;
            }
            
            .star {
                font-size: 2.5rem;
            }
            
            .result-title {
                font-size: 2rem;
            }
            
            .feedback-types {
                gap: 5px;
            }
            
            .feedback-type {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            
            .thank-you-icon {
                font-size: 5rem;
            }
            
            .thank-you-title {
                font-size: 2.2rem;
            }
            
            .thank-you-stats {
                gap: 15px;
            }
            
            .thank-you-stat {
                min-width: 120px;
                padding: 15px;
            }
            
            .thank-you-stat-value {
                font-size: 2rem;
            }
            
            .next-steps-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="start-screen" class="game-screen">
            <img src="12.png" alt="Gender Awareness" class="header-image">
            <h1>Gender Stereotypes Challenge</h1>
            <p class="subtitle">How well do you recognize common gender stereotypes? Test your knowledge!</p>
            
            <div class="welcome-intro">
                <h2>Welcome to the Challenge!</h2>
                <p>You'll be presented with various statements and stereotypes. Your task is to quickly identify which gender category they're most commonly associated with.</p>
                <div class="highlight-box">
                    <p><strong>Note:</strong> This game presents stereotypes for educational purposes and does not endorse them.</p>
                </div>
            </div>
            
            <div class="info-buttons">
                <button class="info-btn" id="why-matters-btn">
                    <div class="icon">üéØ</div>
                    <div>Why This Matters</div>
                </button>
                <button class="info-btn" id="what-learn-btn">
                    <div class="icon">üí°</div>
                    <div>What You'll Learn</div>
                </button>
                <button class="info-btn" id="purpose-btn">
                    <div class="icon">üéØ</div>
                    <div>Purpose of the Game</div>
                </button>
                <button class="info-btn" id="mechanics-btn">
                    <div class="icon">üéÆ</div>
                    <div>Game Mechanics</div>
                </button>
            </div>
            
            <button id="start-btn" class="btn">Start Game</button>
        </div>
        
        <div id="game-screen" class="game-screen">
            <div class="game-header">
                <div class="score-container">
                    <div>Score</div>
                    <div class="score">0</div>
                </div>
                <div class="timer-container">
                    <div>Time Left</div>
                    <div class="timer">180</div>
                </div>
                <div class="intensity-container">
                    <div>Intensity</div>
                    <div class="intensity-level">Easy</div>
                    <div class="intensity-indicator">
                        <div class="intensity-dot active" data-level="1"></div>
                        <div class="intensity-dot" data-level="2"></div>
                        <div class="intensity-dot" data-level="3"></div>
                        <div class="intensity-dot" data-level="4"></div>
                        <div class="intensity-dot" data-level="5"></div>
                    </div>
                </div>
            </div>
            
            <div class="streak-container">
                <div>Current Streak</div>
                <div class="streak">0</div>
            </div>
            
            <div class="statement-container">
                <div id="statement">Loading statement...</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="male">Male</div>
                <div class="option" data-value="female">Female</div>
                <div class="option" data-value="neutral">Neutral / Both</div>
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="game-controls">
                <button id="end-btn" class="btn">End Game</button>
            </div>
        </div>
        
        <div id="game-over-screen" class="game-screen">
            <h2>Game Over!</h2>
            <p>Thanks for playing the Gender Stereotypes Challenge!</p>
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="final-score">0</div>
                    <div class="stat-label">Final Score</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="questions-answered">0</div>
                    <div class="stat-label">Questions Answered</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="accuracy">0%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
            </div>
            <button id="restart-btn" class="btn">Play Again</button>
        </div>
        
        <!-- New Thank You Screen -->
        <div id="thank-you-screen" class="game-screen">
            <div class="thank-you-content">
                <div class="thank-you-icon">üéâ</div>
                <h1 class="thank-you-title">Thank You for Your Feedback!</h1>
                
                <div class="thank-you-message">
                    <p>Your feedback helps us improve the Gender Stereotypes Challenge and create better educational experiences for everyone.</p>
                    <p>Together, we're working towards a more aware and inclusive society.</p>
                </div>
                
                <div class="thank-you-stats">
                    <div class="thank-you-stat">
                        <div class="thank-you-stat-value" id="ty-final-score">0</div>
                        <div class="thank-you-stat-label">Final Score</div>
                    </div>
                    <div class="thank-you-stat">
                        <div class="thank-you-stat-value" id="ty-questions-answered">0</div>
                        <div class="thank-you-stat-label">Questions Answered</div>
                    </div>
                    <div class="thank-you-stat">
                        <div class="thank-you-stat-value" id="ty-accuracy">0%</div>
                        <div class="thank-you-stat-label">Accuracy</div>
                    </div>
                </div>
                
               
                
                <button id="ty-play-again" class="btn">Play Again</button>
                <button id="ty-main-menu" class="btn">Main Menu</button>
            </div>
        </div>
    </div>

    <!-- Info Modals -->
    <div id="why-matters-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Why This Matters</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Gender stereotypes are oversimplified ideas about how men and women should behave, think, and feel. These stereotypes can limit personal growth, career choices, and relationships.</p>
                
                <h3>The Impact of Gender Stereotypes</h3>
                <ul>
                    <li>Limit career choices and professional development</li>
                    <li>Affect mental health and self-esteem</li>
                    <li>Create barriers to authentic self-expression</li>
                    <li>Perpetuate inequality in relationships and society</li>
                    <li>Influence educational opportunities and outcomes</li>
                </ul>
                
                <h3>Why Awareness Matters</h3>
                <p>By becoming more aware of these stereotypes, we can challenge them and create a more inclusive society where everyone can express their authentic selves without judgment.</p>
                
                <p>This game helps you recognize these patterns in everyday situations, making you more conscious of how stereotypes influence our perceptions and decisions.</p>
            </div>
        </div>
    </div>

    <div id="what-learn-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">What You'll Learn</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Through this interactive experience, you'll discover how subtle and pervasive gender stereotypes can be in our language, expectations, and social interactions.</p>
                
                <h3>Key Learning Outcomes</h3>
                <ul>
                    <li>Recognize common gender stereotypes in everyday situations</li>
                    <li>Understand how stereotypes influence our perceptions and decisions</li>
                    <li>Develop critical thinking skills to challenge stereotypes</li>
                    <li>Gain awareness of your own biases and assumptions</li>
                    <li>Learn to identify stereotypes in media and popular culture</li>
                </ul>
                
                <h3>Areas of Focus</h3>
                <p>You'll gain insights into how these stereotypes affect different aspects of life including careers, relationships, hobbies, and emotional expression.</p>
                
                <p>The game is designed to be thought-provoking, encouraging reflection on your own beliefs and assumptions about gender roles in contemporary society.</p>
            </div>
        </div>
    </div>

    <div id="purpose-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Purpose of the Game</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>This game is designed to increase awareness of common gender stereotypes and encourage critical thinking about how we categorize behaviors by gender.</p>
                
                <h3>Primary Objectives</h3>
                <ul>
                    <li>Increase awareness of common gender stereotypes in our society</li>
                    <li>Encourage critical thinking about how we categorize behaviors by gender</li>
                    <li>Spark conversations about the impact of stereotypes on individuals</li>
                    <li>Help players recognize their own awareness of gender stereotypes</li>
                    <li>Promote reflection on how stereotypes influence our perceptions</li>
                </ul>
                
                <h3>Educational Value</h3>
                <p>By engaging with this game, players develop a deeper understanding of how gender stereotypes operate in everyday life and learn to identify them more effectively.</p>
                
                <p>The game provides a safe space to explore these concepts without judgment, allowing for personal growth and increased awareness.</p>
            </div>
        </div>
    </div>

    <div id="mechanics-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Game Mechanics</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Understand how the game works to maximize your learning experience and score.</p>
                
                <h3>Game Rules</h3>
                <ul>
                    <li><strong>Time Limit:</strong> 3 minutes to answer as many statements as possible</li>
                    <li><strong>Scoring:</strong> 1 point for each correct answer</li>
                    <li><strong>Difficulty:</strong> Game gets harder as you progress (5 intensity levels)</li>
                    <li><strong>Categories:</strong> Choose between Male, Female, or Neutral/Both for each statement</li>
                    <li><strong>Streaks:</strong> Consecutive correct answers build your streak multiplier</li>
                    <li><strong>Automatic Progression:</strong> Game automatically advances after each answer</li>
                    <li><strong>No Repetition:</strong> Statements won't repeat until all have been shown</li>
                </ul>
                
                <h3>How to Play</h3>
                <p>Read each statement and select the gender category you think it's most commonly associated with. Answer quickly to maximize your score!</p>
                
                <div class="highlight-box">
                    <p><strong>Tip:</strong> The game becomes more challenging as you progress, with more subtle stereotypes and controversial statements.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorial-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Game Tutorial</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Step 1: Welcome -->
                <div class="tutorial-step active" id="tutorial-step-1">
                    <div class="tutorial-icon">üëã</div>
                    <div class="tutorial-content">
                        <h3>Welcome to the Gender Stereotypes Challenge!</h3>
                        <p>This tutorial will guide you through the game mechanics and help you understand how to play.</p>
                        <p>You'll learn how to identify common gender stereotypes and improve your awareness of how they influence our thinking.</p>
                    </div>
                </div>
                
                <!-- Step 2: Objective -->
                <div class="tutorial-step" id="tutorial-step-2">
                    <div class="tutorial-icon">üéØ</div>
                    <div class="tutorial-content">
                        <h3>Game Objective</h3>
                        <p>Your goal is to identify which gender category (Male, Female, or Neutral/Both) each statement is most commonly associated with in our society.</p>
                        <div class="tutorial-example">
                            <p><strong>Example:</strong> "Enjoys fixing things around the house" is commonly associated with <strong>Male</strong>.</p>
                        </div>
                        <p>Remember, we're identifying stereotypes - not endorsing them!</p>
                    </div>
                </div>
                
                <!-- Step 3: Gameplay -->
                <div class="tutorial-step" id="tutorial-step-3">
                    <div class="tutorial-icon">üéÆ</div>
                    <div class="tutorial-content">
                        <h3>How to Play</h3>
                        <p>You'll have 3 minutes to answer as many statements as possible.</p>
                        <ul>
                            <li>Read each statement carefully</li>
                            <li>Select the category you think it's associated with</li>
                            <li>You'll get immediate feedback on your answer</li>
                            <li>The game automatically moves to the next question</li>
                        </ul>
                        <div class="tutorial-example">
                            <p><strong>Example:</strong> "Loves baking cupcakes" ‚Üí Select <strong>Female</strong></p>
                        </div>
                    </div>
                </div>
                
                <!-- Step 4: Scoring -->
                <div class="tutorial-step" id="tutorial-step-4">
                    <div class="tutorial-icon">‚≠ê</div>
                    <div class="tutorial-content">
                        <h3>Scoring System</h3>
                        <ul>
                            <li><strong>+1 point</strong> for each correct answer</li>
                            <li><strong>Streak bonus:</strong> Consecutive correct answers increase your streak</li>
                            <li><strong>Intensity levels:</strong> Game gets harder as you progress</li>
                        </ul>
                        <p>Your final score will determine your "stereotype awareness" level.</p>
                        <div class="highlight-box">
                            <p><strong>Tip:</strong> Answer quickly but accurately to maximize your score!</p>
                        </div>
                    </div>
                </div>
                
                <!-- Step 5: Ready to Play -->
                <div class="tutorial-step" id="tutorial-step-5">
                    <div class="tutorial-icon">üöÄ</div>
                    <div class="tutorial-content">
                        <h3>Ready to Play?</h3>
                        <p>You now know everything you need to start the Gender Stereotypes Challenge!</p>
                        <p>Remember, this game is about recognizing stereotypes - not endorsing them. The goal is to increase awareness and encourage critical thinking.</p>
                        <div class="highlight-box">
                            <p><strong>Important:</strong> This game presents stereotypes for educational purposes only.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Tutorial Navigation -->
                <div class="tutorial-dots">
                    <div class="tutorial-dot active" data-step="1"></div>
                    <div class="tutorial-dot" data-step="2"></div>
                    <div class="tutorial-dot" data-step="3"></div>
                    <div class="tutorial-dot" data-step="4"></div>
                    <div class="tutorial-dot" data-step="5"></div>
                </div>
                
                <div class="tutorial-navigation">
                    <button id="prev-tutorial" class="btn" disabled>Previous</button>
                    <button id="next-tutorial" class="btn">Next</button>
                    <button id="start-game-btn" class="btn" style="display: none;">Start Game</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="result-modal" class="modal">
        <div class="modal-content result-modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Your Results</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="result-icon" id="result-icon">üèÜ</div>
                <h2 class="result-title" id="result-title">Minimally Stereotypical</h2>
                <p class="result-description" id="result-description">You don't seem to adhere strongly to gender stereotypes.</p>
                
                <div class="game-stats">
                    <div class="stat">
                        <div class="stat-value" id="modal-final-score">0</div>
                        <div class="stat-label">Final Score</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="modal-questions-answered">0</div>
                        <div class="stat-label">Questions Answered</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="modal-accuracy">0%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                </div>
                
                <h3>Rate Your Experience</h3>
                <div class="star-rating">
                    <div class="star" data-rating="1">‚òÖ</div>
                    <div class="star" data-rating="2">‚òÖ</div>
                    <div class="star" data-rating="3">‚òÖ</div>
                    <div class="star" data-rating="4">‚òÖ</div>
                    <div class="star" data-rating="5">‚òÖ</div>
                </div>
                
                <h3>What did you think of the game?</h3>
                <div class="feedback-types">
                    <button class="feedback-type" data-type="educational">Educational</button>
                    <button class="feedback-type" data-type="challenging">Challenging</button>
                    <button class="feedback-type" data-type="fun">Fun</button>
                    <button class="feedback-type" data-type="thought-provoking">Thought-Provoking</button>
                    <button class="feedback-type" data-type="eye-opening">Eye-Opening</button>
                </div>
                
                <button id="feedback-submit" class="feedback-submit">Submit Feedback</button>
            </div>
        </div>
    </div>

    <script>
        // Game data - statements with their correct answers and intensity levels
        const gameData = [
            // Easy scenarios (Level 1)
            { statement: "Enjoys spending weekends fixing things around the house and watching basketball games.", answer: "male", intensity: 1 },
            { statement: "Loves baking cupcakes and decorating them for friends' birthdays.", answer: "female", intensity: 1 },
            { statement: "Prefers staying home and reading fashion magazines during free time.", answer: "neutral", intensity: 1 },
            { statement: "Helps cook dinner for the family and experiments with new recipes.", answer: "neutral", intensity: 1 },
            { statement: "Likes playing online games and doing outdoor adventures.", answer: "neutral", intensity: 1 },
            { statement: "Spends time shopping for clothes and giving fashion advice to friends.", answer: "female", intensity: 1 },
            { statement: "Paints walls, repairs broken items, and enjoys DIY projects.", answer: "neutral", intensity: 1 },
            { statement: "Enjoys watching romantic movies and writing poems about love.", answer: "female", intensity: 1 },
            { statement: "Chooses blue as a favorite color and collects sports jerseys.", answer: "male", intensity: 1 },
            { statement: "Helps take care of pets and enjoys spending time with family.", answer: "neutral", intensity: 1 },

            // Medium scenarios (Level 2)
            { statement: "Prefers action movies with lots of explosions over romantic comedies.", answer: "male", intensity: 2 },
            { statement: "Enjoys chatting with friends about emotions and relationships.", answer: "female", intensity: 2 },
            { statement: "Always buys the newest tech gadgets and enjoys building PCs.", answer: "male", intensity: 2 },
            { statement: "Can manage multiple tasks while listening to music and chatting.", answer: "neutral", intensity: 2 },
            { statement: "Enjoys trying new challenges even when the outcome is uncertain.", answer: "male", intensity: 2 },
            { statement: "Takes time to review small details when completing school projects.", answer: "neutral", intensity: 2 },
            { statement: "Feels motivated in competitions and enjoys being the best.", answer: "male", intensity: 2 },
            { statement: "Avoids conflict and tries to maintain peace among peers.", answer: "neutral", intensity: 2 },
            { statement: "Often interrupts discussions to share opinions.", answer: "male", intensity: 2 },
            { statement: "Tends to apologize quickly, even when not at fault.", answer: "female", intensity: 2 },

            // Hard scenarios (Level 3)
            { statement: "Sometimes struggles to distinguish colors in detailed art projects.", answer: "male", intensity: 3 },
            { statement: "Can identify perfumes and scents more easily than others.", answer: "female", intensity: 3 },
            { statement: "Writes with the left hand and often bumps elbows with others.", answer: "male", intensity: 3 },
            { statement: "Family members say people in their family live long lives.", answer: "female", intensity: 3 },
            { statement: "Learns best with visual and structured routines.", answer: "neutral", intensity: 3 },
            { statement: "Experiences mood swings and seeks emotional support often.", answer: "female", intensity: 3 },
            { statement: "Solves puzzles quickly and enjoys 3D modeling.", answer: "male", intensity: 3 },
            { statement: "Writes stories fluently and expresses ideas creatively.", answer: "female", intensity: 3 },
            { statement: "Negotiates for better outcomes confidently.", answer: "male", intensity: 3 },
            { statement: "Uses words like 'maybe' or 'I think' during discussions.", answer: "neutral", intensity: 3 },

            // Very Hard scenarios (Level 4)
            { statement: "Often takes on projects without full preparation, trusting intuition.", answer: "male", intensity: 4 },
            { statement: "Doubts own performance even after positive results.", answer: "female", intensity: 4 },
            { statement: "Prefers working alone on research tasks to focus.", answer: "male", intensity: 4 },
            { statement: "Enjoys group work for idea sharing and teamwork.", answer: "female", intensity: 4 },
            { statement: "Volunteers to speak in front of the group even without prep.", answer: "male", intensity: 4 },
            { statement: "Asks for help when a topic isn't understood.", answer: "female", intensity: 4 },
            { statement: "Talks frequently in meetings to ensure points are heard.", answer: "male", intensity: 4 },
            { statement: "Listens carefully and summarizes everyone's ideas.", answer: "female", intensity: 4 },
            { statement: "Takes credit when projects succeed.", answer: "male", intensity: 4 },
            { statement: "Credits teamwork or luck for success.", answer: "female", intensity: 4 },

            // Controversial scenarios (Level 5)
            { statement: "Students debate whether one gender performs better in math contests.", answer: "neutral", intensity: 5 },
            { statement: "People argue about who makes better leaders ‚Äî men or women.", answer: "neutral", intensity: 5 },
            { statement: "Classmates debate who has a stronger sex drive between genders.", answer: "neutral", intensity: 5 },
            { statement: "A survey asks which gender is more loyal in relationships.", answer: "neutral", intensity: 5 },
            { statement: "An influencer criticizes media pressures on appearance by gender.", answer: "neutral", intensity: 5 },
            { statement: "A study questions which gender faces more work pressure.", answer: "neutral", intensity: 5 },
            { statement: "Career data shows one gender has more freedom in job choices.", answer: "neutral", intensity: 5 },
            { statement: "Discussions arise on how society limits each gender differently.", answer: "neutral", intensity: 5 },
            { statement: "Students argue if one gender is naturally more competitive.", answer: "neutral", intensity: 5 },
            { statement: "Classroom debates whether one gender is naturally more cooperative.", answer: "neutral", intensity: 5 }
        ];

        // Game state
        let gameState = {
            score: 0,
            timeLeft: 180, // 3 minutes
            currentStatement: null,
            answered: 0,
            correct: 0,
            currentIntensity: 1,
            timer: null,
            gameActive: false,
            currentStreak: 0,
            maxStreak: 0,
            autoAdvanceTimeout: null,
            usedStatements: new Set()
        };

        // Tutorial state
        let tutorialState = {
            currentStep: 1,
            totalSteps: 5
        };

        // Feedback state
        let feedbackState = {
            rating: 0,
            selectedTypes: []
        };

        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const gameOverScreen = document.getElementById('game-over-screen');
        const thankYouScreen = document.getElementById('thank-you-screen');
        const startBtn = document.getElementById('start-btn');
        const endBtn = document.getElementById('end-btn');
        const playAgainBtn = document.getElementById('restart-btn');
        const tyPlayAgainBtn = document.getElementById('ty-play-again');
        const tyMainMenuBtn = document.getElementById('ty-main-menu');
        const statementEl = document.getElementById('statement');
        const scoreEl = document.querySelector('.score');
        const timerEl = document.querySelector('.timer');
        const intensityLevelEl = document.querySelector('.intensity-level');
        const feedbackEl = document.getElementById('feedback');
        const progressEl = document.getElementById('progress');
        const finalScoreEl = document.getElementById('final-score');
        const statementsAnsweredEl = document.getElementById('questions-answered');
        const accuracyEl = document.getElementById('accuracy');
        const streakEl = document.querySelector('.streak');
        const options = document.querySelectorAll('.option');
        const intensityDots = document.querySelectorAll('.intensity-dot');

        // Thank you screen elements
        const tyFinalScoreEl = document.getElementById('ty-final-score');
        const tyQuestionsAnsweredEl = document.getElementById('ty-questions-answered');
        const tyAccuracyEl = document.getElementById('ty-accuracy');

        // Modal elements
        const whyMattersBtn = document.getElementById('why-matters-btn');
        const whatLearnBtn = document.getElementById('what-learn-btn');
        const purposeBtn = document.getElementById('purpose-btn');
        const mechanicsBtn = document.getElementById('mechanics-btn');
        
        const whyMattersModal = document.getElementById('why-matters-modal');
        const whatLearnModal = document.getElementById('what-learn-modal');
        const purposeModal = document.getElementById('purpose-modal');
        const mechanicsModal = document.getElementById('mechanics-modal');
        const tutorialModal = document.getElementById('tutorial-modal');
        const resultModal = document.getElementById('result-modal');
        
        const closeModalButtons = document.querySelectorAll('.close-modal');
        
        // Tutorial elements
        const tutorialSteps = document.querySelectorAll('.tutorial-step');
        const tutorialDots = document.querySelectorAll('.tutorial-dot');
        const prevTutorialBtn = document.getElementById('prev-tutorial');
        const nextTutorialBtn = document.getElementById('next-tutorial');
        const startGameBtn = document.getElementById('start-game-btn');

        // Result modal elements
        const resultIconEl = document.getElementById('result-icon');
        const resultTitleEl = document.getElementById('result-title');
        const resultDescriptionEl = document.getElementById('result-description');
        const modalFinalScoreEl = document.getElementById('modal-final-score');
        const modalQuestionsAnsweredEl = document.getElementById('modal-questions-answered');
        const modalAccuracyEl = document.getElementById('modal-accuracy');
        const stars = document.querySelectorAll('.star');
        const feedbackTypes = document.querySelectorAll('.feedback-type');
        const feedbackSubmitBtn = document.getElementById('feedback-submit');

        // Initialize game
        function initGame() {
            startScreen.style.display = 'block';
            gameScreen.style.display = 'none';
            gameOverScreen.style.display = 'none';
            thankYouScreen.style.display = 'none';
            
            startBtn.addEventListener('click', startTutorial);
            endBtn.addEventListener('click', endGame);
            playAgainBtn.addEventListener('click', startGame);
            tyPlayAgainBtn.addEventListener('click', startGame);
            tyMainMenuBtn.addEventListener('click', showMainMenu);
            
            options.forEach(option => {
                option.addEventListener('click', selectOption);
            });
            
            // Modal event listeners
            whyMattersBtn.addEventListener('click', () => openModal(whyMattersModal));
            whatLearnBtn.addEventListener('click', () => openModal(whatLearnModal));
            purposeBtn.addEventListener('click', () => openModal(purposeModal));
            mechanicsBtn.addEventListener('click', () => openModal(mechanicsModal));
            
            closeModalButtons.forEach(button => {
                button.addEventListener('click', closeAllModals);
            });
            
            // Tutorial event listeners
            prevTutorialBtn.addEventListener('click', prevTutorialStep);
            nextTutorialBtn.addEventListener('click', nextTutorialStep);
            startGameBtn.addEventListener('click', startGameAfterTutorial);
            
            // Tutorial dot navigation
            tutorialDots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const step = parseInt(this.dataset.step);
                    goToTutorialStep(step);
                });
            });
            
            // Feedback event listeners
            stars.forEach(star => {
                star.addEventListener('click', setRating);
            });
            
            feedbackTypes.forEach(type => {
                type.addEventListener('click', toggleFeedbackType);
            });
            
            feedbackSubmitBtn.addEventListener('click', submitFeedback);
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    closeAllModals();
                }
            });
        }

        // Show main menu
        function showMainMenu() {
            startScreen.style.display = 'block';
            gameScreen.style.display = 'none';
            gameOverScreen.style.display = 'none';
            thankYouScreen.style.display = 'none';
        }

        // Modal functions
        function openModal(modal) {
            modal.style.display = 'flex';
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        // Tutorial functions
        function startTutorial() {
            tutorialState.currentStep = 1;
            updateTutorialDisplay();
            tutorialModal.style.display = 'flex';
        }

        function updateTutorialDisplay() {
            // Update steps
            tutorialSteps.forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById(`tutorial-step-${tutorialState.currentStep}`).classList.add('active');
            
            // Update dots
            tutorialDots.forEach(dot => {
                dot.classList.remove('active');
            });
            document.querySelector(`.tutorial-dot[data-step="${tutorialState.currentStep}"]`).classList.add('active');
            
            // Update buttons
            prevTutorialBtn.disabled = tutorialState.currentStep === 1;
            
            if (tutorialState.currentStep === tutorialState.totalSteps) {
                nextTutorialBtn.style.display = 'none';
                startGameBtn.style.display = 'inline-block';
            } else {
                nextTutorialBtn.style.display = 'inline-block';
                startGameBtn.style.display = 'none';
            }
        }

        function prevTutorialStep() {
            if (tutorialState.currentStep > 1) {
                tutorialState.currentStep--;
                updateTutorialDisplay();
            }
        }

        function nextTutorialStep() {
            if (tutorialState.currentStep < tutorialState.totalSteps) {
                tutorialState.currentStep++;
                updateTutorialDisplay();
            }
        }

        function goToTutorialStep(step) {
            tutorialState.currentStep = step;
            updateTutorialDisplay();
        }

        function startGameAfterTutorial() {
            closeAllModals();
            startGame();
        }

        // Start the game
        function startGame() {
            resetGameState();
            startScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            gameOverScreen.style.display = 'none';
            thankYouScreen.style.display = 'none';
            
            updateIntensityDisplay();
            nextStatement();
            startTimer();
        }

        // Reset game state
        function resetGameState() {
            gameState.score = 0;
            gameState.timeLeft = 180;
            gameState.answered = 0;
            gameState.correct = 0;
            gameState.currentIntensity = 1;
            gameState.gameActive = true;
            gameState.currentStreak = 0;
            gameState.maxStreak = 0;
            gameState.usedStatements.clear();
            
            updateScore();
            updateTimer();
            updateStreak();
        }

        // Start the timer
        function startTimer() {
            clearInterval(gameState.timer);
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimer();
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // Update timer display
        function updateTimer() {
            timerEl.textContent = gameState.timeLeft;
            
            // Update progress bar
            const progressPercent = (180 - gameState.timeLeft) / 180 * 100;
            progressEl.style.width = `${progressPercent}%`;
            
            // Change color as time runs out
            if (gameState.timeLeft <= 30) {
                timerEl.style.color = '#ff5252';
            } else if (gameState.timeLeft <= 60) {
                timerEl.style.color = '#ffeb3b';
            } else {
                timerEl.style.color = 'white';
            }
        }

        // Update score display
        function updateScore() {
            scoreEl.textContent = gameState.score;
        }

        // Update streak display
        function updateStreak() {
            streakEl.textContent = gameState.currentStreak;
            
            // Add pulse animation for streaks of 3 or more
            if (gameState.currentStreak >= 3) {
                streakEl.classList.add('pulse');
            } else {
                streakEl.classList.remove('pulse');
            }
        }

        // Update intensity display
        function updateIntensityDisplay() {
            const intensityLabels = ['Easy', 'Medium', 'Hard', 'Very Hard', 'Controversial'];
            intensityLevelEl.textContent = intensityLabels[gameState.currentIntensity - 1];
            
            // Update intensity dots
            intensityDots.forEach(dot => {
                if (parseInt(dot.dataset.level) <= gameState.currentIntensity) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Get a random statement based on current intensity
        function getRandomStatement() {
            // If we've used all statements, reset the used set
            if (gameState.usedStatements.size >= gameData.length) {
                gameState.usedStatements.clear();
            }
            
            // Filter available statements by current intensity
            let availableStatements = gameData.filter(item => 
                item.intensity === gameState.currentIntensity && 
                !gameState.usedStatements.has(item.statement)
            );
            
            // If no statements available at current intensity, use any unused statement
            if (availableStatements.length === 0) {
                availableStatements = gameData.filter(item => 
                    !gameState.usedStatements.has(item.statement)
                );
            }
            
            // If still no statements available, reset the used set
            if (availableStatements.length === 0) {
                gameState.usedStatements.clear();
                availableStatements = gameData.filter(item => 
                    item.intensity === gameState.currentIntensity
                );
            }
            
            const randomIndex = Math.floor(Math.random() * availableStatements.length);
            const selectedStatement = availableStatements[randomIndex];
            gameState.usedStatements.add(selectedStatement.statement);
            
            return selectedStatement;
        }

        // Display next statement
        function nextStatement() {
            // Clear any existing auto-advance timeout
            if (gameState.autoAdvanceTimeout) {
                clearTimeout(gameState.autoAdvanceTimeout);
            }
            
            // Reset UI state
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            feedbackEl.textContent = '';
            
            // Get and display new statement
            gameState.currentStatement = getRandomStatement();
            statementEl.textContent = gameState.currentStatement.statement;
            
            // Increase intensity every 5 correct answers
            if (gameState.correct > 0 && gameState.correct % 5 === 0 && gameState.currentIntensity < 5) {
                gameState.currentIntensity++;
                updateIntensityDisplay();
            }
        }

        // Handle option selection
        function selectOption(e) {
            if (!gameState.gameActive) return;
            
            const selectedOption = e.currentTarget;
            const selectedValue = selectedOption.dataset.value;
            
            // Mark selected option
            options.forEach(option => {
                option.classList.remove('selected');
            });
            selectedOption.classList.add('selected');
            
            // Check if correct
            const isCorrect = selectedValue === gameState.currentStatement.answer;
            
            if (isCorrect) {
                selectedOption.classList.add('correct');
                gameState.score += 1; // 1 point per correct answer
                gameState.correct++;
                gameState.currentStreak++;
                
                // Update max streak if needed
                if (gameState.currentStreak > gameState.maxStreak) {
                    gameState.maxStreak = gameState.currentStreak;
                }
                
                feedbackEl.textContent = "Correct! +1 point";
                feedbackEl.style.color = "#4caf50";
            } else {
                selectedOption.classList.add('incorrect');
                gameState.currentStreak = 0;
                
                // Highlight correct option
                options.forEach(option => {
                    if (option.dataset.value === gameState.currentStatement.answer) {
                        option.classList.add('correct');
                    }
                });
                
                feedbackEl.textContent = "Incorrect!";
                feedbackEl.style.color = "#f44336";
            }
            
            gameState.answered++;
            updateScore();
            updateStreak();
            
            // Auto-advance to next statement after a brief delay
            gameState.autoAdvanceTimeout = setTimeout(() => {
                nextStatement();
            }, 1500);
        }

        // Determine stereotype level based on score
        function getStereotypeLevel(score) {
            if (score >= 25) return {
                level: "Highly Stereotypical",
                message: "You have a strong awareness of common gender stereotypes!",
                color: "#ff5252",
                icon: "üéØ"
            };
            if (score >= 20) return {
                level: "Very Stereotypical", 
                message: "You're quite familiar with gender stereotypes in our society.",
                color: "#ff9800",
                icon: "üß†"
            };
            if (score >= 15) return {
                level: "Moderately Stereotypical",
                message: "You recognize many common gender stereotypes.",
                color: "#ffeb3b",
                icon: "üåü"
            };
            if (score >= 10) return {
                level: "Somewhat Stereotypical",
                message: "You're aware of some gender stereotypes but not all.",
                color: "#8bc34a",
                icon: "üìö"
            };
            return {
                level: "Minimally Stereotypical",
                message: "You don't seem to adhere strongly to gender stereotypes.",
                color: "#4caf50",
                icon: "üå±"
            };
        }

        // End the game
        function endGame() {
            gameState.gameActive = false;
            clearInterval(gameState.timer);
            
            // Clear any pending auto-advance
            if (gameState.autoAdvanceTimeout) {
                clearTimeout(gameState.autoAdvanceTimeout);
            }
            
            // Calculate accuracy
            const accuracy = gameState.answered > 0 ? Math.round((gameState.correct / gameState.answered) * 100) : 0;
            
            // Update final stats
            finalScoreEl.textContent = gameState.score;
            statementsAnsweredEl.textContent = gameState.answered;
            accuracyEl.textContent = `${accuracy}%`;
            
            // Show game over screen
            gameScreen.style.display = 'none';
            gameOverScreen.style.display = 'block';
            
            // Show result modal after a brief delay
            setTimeout(showResultModal, 1000);
        }

        // Show result modal with stereotype level
        function showResultModal() {
            // Calculate accuracy
            const accuracy = gameState.answered > 0 ? Math.round((gameState.correct / gameState.answered) * 100) : 0;
            
            // Update modal stats
            modalFinalScoreEl.textContent = gameState.score;
            modalQuestionsAnsweredEl.textContent = gameState.answered;
            modalAccuracyEl.textContent = `${accuracy}%`;
            
            // Determine stereotype level
            const stereotypeResult = getStereotypeLevel(gameState.score);
            resultTitleEl.textContent = stereotypeResult.level;
            resultDescriptionEl.textContent = stereotypeResult.message;
            resultIconEl.textContent = stereotypeResult.icon;
            
            // Reset feedback state
            feedbackState.rating = 0;
            feedbackState.selectedTypes = [];
            
            // Reset UI
            stars.forEach(star => {
                star.classList.remove('active');
            });
            
            feedbackTypes.forEach(type => {
                type.classList.remove('selected');
            });
            
            // Show modal
            openModal(resultModal);
        }

        // Set star rating
        function setRating(e) {
            const rating = parseInt(e.target.dataset.rating);
            feedbackState.rating = rating;
            
            // Update star display
            stars.forEach(star => {
                const starRating = parseInt(star.dataset.rating);
                if (starRating <= rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // Toggle feedback type
        function toggleFeedbackType(e) {
            const type = e.target.dataset.type;
            const index = feedbackState.selectedTypes.indexOf(type);
            
            if (index === -1) {
                feedbackState.selectedTypes.push(type);
                e.target.classList.add('selected');
            } else {
                feedbackState.selectedTypes.splice(index, 1);
                e.target.classList.remove('selected');
            }
        }

        // Submit feedback
        function submitFeedback() {
            // In a real app, you would send this data to a server
            console.log('Feedback submitted:', {
                rating: feedbackState.rating,
                types: feedbackState.selectedTypes,
                score: gameState.score,
                answered: gameState.answered,
                accuracy: gameState.answered > 0 ? Math.round((gameState.correct / gameState.answered) * 100) : 0
            });
            
            // Close modal
            closeAllModals();
            
            // Show thank you screen
            showThankYouScreen();
        }

        // Show thank you screen
        function showThankYouScreen() {
            // Calculate accuracy
            const accuracy = gameState.answered > 0 ? Math.round((gameState.correct / gameState.answered) * 100) : 0;
            
            // Update thank you screen stats
            tyFinalScoreEl.textContent = gameState.score;
            tyQuestionsAnsweredEl.textContent = gameState.answered;
            tyAccuracyEl.textContent = `${accuracy}%`;
            
            // Show thank you screen
            gameOverScreen.style.display = 'none';
            thankYouScreen.style.display = 'block';
            
            // Create confetti effect
            createConfetti();
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#ffeb3b', '#ff6b6b', '#4caf50', '#2196f3', '#9c27b0'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        // Initialize the game when page loads
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>